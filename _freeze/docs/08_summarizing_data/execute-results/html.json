{
  "hash": "6461b1399bd15d25afb7420cd5944516",
  "result": {
    "markdown": "# ðŸ‘€ Descriptive statistics and summarizing your data\n\n<div class=\"tenor-gif-embed\" data-postid=\"18886161\" data-share-method=\"host\" data-aspect-ratio=\"1.78771\" data-width=\"100%\"><a href=\"https://tenor.com/view/its-kinda-hard-to-describe-mrwhosetheboss-i-dont-know-how-to-say-it-hard-to-put-into-words-gif-18886161\">Its Kinda Hard To Describe Mrwhosetheboss GIF</a>from <a href=\"https://tenor.com/search/its+kinda+hard+to+describe-gifs\">Its Kinda Hard To Describe GIFs</a></div> <script type=\"text/javascript\" async src=\"https://tenor.com/embed.js\"></script>\n\n\n::: {.cell}\n\n:::\n\n\nIn the previous exercise, we successfully loaded our data ðŸ’ª and we were able to get a sense of how many observations and variables we had for our data. You may have noticed, however, that we were only previewing our data. We still do not have a super solid sense of what our data look like. ðŸ‘€\n\nThere are two main ways that we can describe and get a handle on our data:\n\n1. get a measure of our **central tendency**\n2. get a measure of our **spread**\n\n## The central tendency\n\nThe central tendency of a variable (univariate) would describe where most of your observations lie on possible values that a observation can take on for that particular variable.\n\nThere are a number of ways to quantify this. The most common are the **mean** ($\\bar{x}$) and the **median**.\n\n## The spread\n\nIt is not necessarily the case that observations all sit at the mean (they may, but do not have to). Think for example about house prices. If the average house price is $405,000, that does not imply that every single house price is $405,000. Some will be higher than that or lower than that.\n\nThis motivates our need to describe a variable by not just its central tendency but also the variance or spread around the mean. There are two common metrics we can calculate to do this:\n\n1. The variance ($\\sigma^2$)\n2. The standard deviation ($\\sigma$)\n\nThe difference between the two is that the standard deviation is \n\n$$\n\\sigma (\\text{std. dev.}) = \\sqrt{\\sigma^2 (\\text{variance})}\n$$\n\n## Easy ways to describe these with R\n\n### Graphics\n\nIn R, there are tons of graphical ways that we can describe a single variable.\n\nA really handy website that you can use for inspiration and for example code, is [R-Graph-Gallery](http://r-graph-gallery.com/).\n\nThe most popular R package for making nice-looking graphics in R is called `ggplot2()` [@ggplot2]. \n\nFor your first time using it, you should install the `ggplot2()` [@ggplot2] package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install the ggplot2 package\ninstall.packages(\"ggplot2\")\n```\n:::\n\n\nThen once we've installed it, we want to make sure to load by using the `library()` function in our `.R` script before we use it.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n```\n:::\n\n\n#### Histograms\n\nHistograms are really useful charts that we can use to visually depict the distribution of observations for a particular variable in our dataset.\n\nSay, for example we want to visualize the breakdown of countries' GDPPC. We can do that with a histogram.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nworld %>% # grab the world dataset, and do the following\n    ggplot() + # make a ggplot object\n    geom_histogram( # make a histogram\n        aes(x = log(gdppc)), # use the gdppc variable\n        fill = \"#D3D3D3\", # fill the bars with light grey\n        color = \"#000000\" # make the outlines of the bars black\n    ) +\n    theme_minimal() + # change the theme to be prettier\n    labs( # clean up the labels\n        x = \"log(GDP per capita)\", # change the x-axis label to this\n        y = \"Count of countries\", # change the y-axis label to this\n        captions = \"Data source: World dataset.\" # add a caption\n    )\n```\n:::\n\n\nWhat the code is doing above:\n\n1. Grab the world data set and use the `pipe` function from the `magrittr` package [@magrittr] to connect the other functions to it.\n2. Create a `ggplot()` [@ggplot2] object.\n3. I want to make a histogram, so I'm going to use `ggplot` [@ggplot2] and will use the `geom_histogram()` function.\n4. Inside the `geom_histogram()` function, I want to tell it what variable I want to plot. So I am going to use the `aes()` function which will grab from the `world` dataset object and will then grab the `gddpc` variable. I am going to use the `log()` function to log-transform it. This will make the x-axis a bit easier to read.\n5. For the histogram, I want to change the default colors of the graph a bit. I want to `fill` in the bars with a light grey color (using a hex code) `\"#D3D3D3\"` and I want to make the outline of the bars black (using a hex code) `\"#000000\"`.\n5. Then, I want to make the rest of the plot look a little bit prettier - so I am going to use the `theme_minimal()` function from the `ggplot2` package.\n6. Also to help make the plot a bit prettier, I am going to change some labels for the figure with the `labs()` function from the `ggplot2` package. To change my x-axis label, I am going to set `x` equal to `\"GDP (Per Capita)\"`. To change my y-axis label, I am going to set `y` equal to `\"Count of countries\"`. And I want to add a caption at the bottom for my reader to know what dataset this is from, so I am going to set `caption` equal to `\"Data source: World dataset.\"`.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 6 rows containing non-finite values (`stat_bin()`).\n```\n:::\n\n::: {.cell-output-display}\n![Distribution of Countries' GDP (Per capita)](08_summarizing_data_files/figure-html/fig-gdp-histogram-1.png){#fig-gdp-histogram width=672}\n:::\n:::\n\n\n#### Boxplot\n\nAnother common way to visually describe a variable in your data is through a boxplot. Boxplots lets us visualize not only the median (one metric of our central tendency) of a variable (the line down the middle), but also the spread through the edges of the box (which represent the first and third quantiles), and the minimum and maximum values. Any extra \"dots\" that the plot shows reflects \"outliers\" -- which are observations that are quite abnormal relative to the sample.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nworld %>% # grab the world dataset\n    ggplot() + # make a ggplot object\n    geom_boxplot( # make a geom_boxplot\n        aes(x = log(gdppc)), # using the gdppc variable\n        fill = \"#D3D3D3\", # fill it with a light grey color\n        alpha = 0.7 # don't make the color solid\n    ) +\n    theme_minimal() + # use the minimal theme to look nicer\n    labs( # adjust the labels\n        x = \"log(GDP per capita)\", # change the x axis to this\n        caption = \"Data source: World dataset.\"\n    )\n```\n:::\n\n\nTo make the boxplot for the GDP (per capita) `gdppc` variable in the `world` dataset, I can run the code above.\n\n1. I first grab the `world` dataframe object\n2. Using the `pipe` function (`%>%`), I connect the world dataframe object to the code below.\n3. I first create a `ggplot` object with the `ggplot()` function.\n4. I then specify that with that `ggplot` object, I want to make a boxplot by using the `geom_boxplot()` function from the `ggplot2` package. I specify a couple of options. I first specify that I want to use the `gdppc` variable for the plot. I also indicate that I want the fill color for the plot to be light grey (hex code `\"#D3D3D3\"`). I then don't want the color to be solid light grey and want to add some transparency too it, so I specify the `alpha` option to make it a bit more transparent.\n5. I then use the `theme_minimal` function from `ggplot2` to make the plot look a bit nicer.\n6. Finally, I wanted to adjust the labels and so I use the `labs()` function from the `ggplot2` function. Since I want to adjust the label for the x-axis, I specify the `x` option and set it equal to `GDP (per capita)`. I also want to add a caption to indicate where I got these data from and so I use the `caption` option and set it equal to the text that I want for the caption.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 6 rows containing non-finite values (`stat_boxplot()`).\n```\n:::\n\n::: {.cell-output-display}\n![Boxplot of GDP (per capita)](08_summarizing_data_files/figure-html/fig-boxplot-example-1.png){#fig-boxplot-example width=672}\n:::\n:::\n\n\n### Tables\n\nTables are a numeric, rather than visual, way to help us understand characteristics of particular variables in our dataset.\n\nUnlike what we have with @fig-gdp-histogram, we may want concrete numerical descriptions of our data. There are a few ways we can do this.\n\nWe can calculate the mean of our variable by using the `mean()` function:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(world$gdppc, na.rm = TRUE) # from the world dataset, grab ($) the column called gdppc\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 16326.78\n```\n:::\n:::\n\n\n:::{.callout-note}\n\nNote that for the `mean` and `sd` functions, I have to include an additional option `(na.rm = TRUE)` to ignore missing values: countries that didn't report their GDP (per capita) in the dataset.\n:::\n\nWe can also calculate the standard deviation of our variable by using the `sd()` function:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsd(world$gdppc, na.rm = TRUE) # from the world dataset, grab ($) the column called gdppc\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 18456.59\n```\n:::\n:::\n\n\nAdditionally, if we want to see both the mean and the median, we can use the `summary()` function:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(world$gdppc) # from the world dataset, grab ($) the column called gdppc\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    Min.  1st Qu.   Median     Mean  3rd Qu.     Max.     NA's \n   683.8   3249.1   9863.2  16326.8  21183.4 123593.0        6 \n```\n:::\n:::\n\n\nNotice how it doesn't give us a calculation for our standard deviation? UGHH.\n\nAnother drawback to these is that the output doesn't look all that nice and it would also require us to copy and paste things. Which opens up the chance that we accidentally copy the result for our standard deviation and refer to it as our mean in our report or we may accidentally pick the wrong number.\n\nOne super nifty function that we can use is the `datasummary_skim()` function from the `modelsummary` package [@modelsummary]. What the modelsummary package does, is it can calculate these things, along with quite a few others as well.\n\nSo, I am going to tell R to grab my `world` dataset object, and to apply the following functions to it -- I do this with the `pipe` function (`%>%`):\n\n- With `dplyr`'s [@dplyr] `mutate()` function, I am going to transform the `gdppc` column to be the `log()` of it. This log transformation makes it a bit easier to read the numbers. I am going to store the result of this into a new column called `log_gdppc`.\n- With `dplyr`'s [@dplyr] `select()` function, I am going to `select()` the `log_gdppc` column.\n- With `dplyr`'s [@dplyr] `rename()` function, I am going to `rename()` the `log_gdppc` column to `log(GDP per capita)`\n\n:::{.callout-note}\n\nNote how instead of using quotations in the `rename()` function, I am using the forward apostrophe symbol? I am doing this because I am technically renaming the column. So if I am using the `rename()` function, I should use that instead of quotations.\n:::\n\n- Then, with `modelsummary`'s [@modelsummary] `datasummary_skim()` function, I am going to make a table for the selected variables. \n    - I want to put a note on the bottom of the table telling my readers where I got the data for that variable from, so I am going to add a `note` that says `\"Data source: world dataset.\"`.\n    - I want to have the output be easy to pull over to a `.docx` file, so I am going to save a `.html` file called `gdppc_summary.html` in my working directory (should be the `psci_2075` folder on my `Desktop`). I can then find the file on my computer, and open with my web browser of choice by double clicking on the `gdppc_summary.html` file (e.g., Firefox, Google Chrome, Safari, etc.), and then I can copy and paste the table that it opens into my report document.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nworld %>% # grab the world dataset\n    mutate( # change the values for a variable\n        log_gdppc = log(gdppc) # take the log of gdppc and store it in new column called log_gdppc\n    ) %>% \n    select( # grab a variable...\n        log_gdppc #... specifically the log_gdppc column, drop all the other columns\n    ) %>% \n    rename( # rename columns\n        `log(GDP per capita)` = log_gdppc # specifically rename log_gdppc to log(GDP per capita)\n    ) %>%\n    datasummary_skim( # make a table sumamrizing the variables\n        notes = \"Data source: world dataset.\", # add notes to bottom of table\n        output = \"gdppc_summary.html\" # store result to a html file called gdppc_summary.html\n    )\n```\n:::\n\n::: {#tbl-gdppc-table .cell tbl-cap='Descriptive statistics of countries\\' GDP (per capita)'}\n::: {.cell-output-display}\n`````{=html}\n<table style=\"NAborder-bottom: 0; width: auto !important; margin-left: auto; margin-right: auto;\" class=\"table\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> Unique (#) </th>\n   <th style=\"text-align:right;\"> Missing (%) </th>\n   <th style=\"text-align:right;\"> Mean </th>\n   <th style=\"text-align:right;\"> SD </th>\n   <th style=\"text-align:right;\"> Min </th>\n   <th style=\"text-align:right;\"> Median </th>\n   <th style=\"text-align:right;\"> Max </th>\n   <th style=\"text-align:right;\">    </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> log(GDP per capita) </td>\n   <td style=\"text-align:right;\"> 177 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 9.1 </td>\n   <td style=\"text-align:right;\"> 1.2 </td>\n   <td style=\"text-align:right;\"> 6.5 </td>\n   <td style=\"text-align:right;\"> 9.2 </td>\n   <td style=\"text-align:right;\"> 11.7 </td>\n   <td style=\"text-align:right;\">  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" class=\"svglite\" width=\"48.00pt\" height=\"12.00pt\" viewBox=\"0 0 48.00 12.00\"><defs><style type=\"text/css\">\n    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n    .svglite text {\n      white-space: pre;\n    }\n  </style></defs><rect width=\"100%\" height=\"100%\" style=\"stroke: none; fill: none;\"></rect><defs><clipPath id=\"cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw\"><rect x=\"0.00\" y=\"0.00\" width=\"48.00\" height=\"12.00\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)\">\n</g><defs><clipPath id=\"cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw\"><rect x=\"0.00\" y=\"2.88\" width=\"48.00\" height=\"9.12\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)\"><rect x=\"1.54\" y=\"9.62\" width=\"4.28\" height=\"2.04\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"5.82\" y=\"6.71\" width=\"4.28\" height=\"4.95\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"10.09\" y=\"6.71\" width=\"4.28\" height=\"4.95\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"14.37\" y=\"6.71\" width=\"4.28\" height=\"4.95\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"18.64\" y=\"5.84\" width=\"4.28\" height=\"5.82\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"22.92\" y=\"3.80\" width=\"4.28\" height=\"7.86\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"27.20\" y=\"3.22\" width=\"4.28\" height=\"8.44\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"31.47\" y=\"6.42\" width=\"4.28\" height=\"5.24\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"35.75\" y=\"6.13\" width=\"4.28\" height=\"5.53\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"40.02\" y=\"10.50\" width=\"4.28\" height=\"1.16\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"44.30\" y=\"11.37\" width=\"4.28\" height=\"0.29\" style=\"stroke-width: 0.38; fill: #000000;\"></rect></g></svg>\n</td>\n  </tr>\n</tbody>\n<tfoot><tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Data source: world dataset.</td></tr></tfoot>\n</table>\n\n`````\n:::\n:::\n\n\nIt gives me a whole bunch of things. Including a (albeit small) histogram in the last column. Nice!\n\n## Some final notes\n\n- If you want to know how to make a graph in R, I highly recommend [R Graph Gallery](http://r-graph-gallery.com/). They have tons of examples (with code) and using either `base-r` plots (the uglier, but easier to create, ones) or `ggplot2` (the prettier, but more verbose, ones). \n- An example `.R` file from Dr. Philips' lecture can be found on canvas.\n- To see an example `.R` file for all of this (all together and in one place), can be found on [this page](https://github.com/DamonCharlesRoberts/psci2075sp23.classes.damoncroberts.com/blob/main/examples/descriptive_statistics.R). (You can either download the file or copy and paste its contents into your own `.R` file.)\n- A lot of people love to jump at the chance to add all these colors to graphs and such. I am much more skeptical of this. While I love loud colors, they can be a problem in data visualization. You should not rely exclusively on color in your data visualizations as there is significant variation in people's ability to detect and distinguish particular colors. Therefore, though it is boring, I often recommend grey scale to make it easier for everyone to see your graphs!\n- Also, you should be very careful about what types of figures you use to describe your data. You are providing a visual narrative about your data. Just as a comic book author should be conscious and careful about their choices for their illustrations, so too should an analyst be with their data visualizations.",
    "supporting": [
      "08_summarizing_data_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}