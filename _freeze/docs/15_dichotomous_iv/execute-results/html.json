{
  "hash": "3810941f4b30abecb36d4cb2e0ca74d8",
  "result": {
    "markdown": "# ðŸŽ¯Interpreting models with dichotomous independent variables\n\n<div class=\"tenor-gif-embed\" data-postid=\"18187716\" data-share-method=\"host\" data-aspect-ratio=\"1\" data-width=\"100%\"><a href=\"https://tenor.com/view/cubs-two-gif-18187716\">Cubs Two GIF</a>from <a href=\"https://tenor.com/search/cubs-gifs\">Cubs GIFs</a></div> <script type=\"text/javascript\" async src=\"https://tenor.com/embed.js\"></script>\n\n::: {.cell}\n\n:::\n\n\nSo far, we've talked about linear regression where we estimate and interpret the effect of an independent variable upon a dependent variable. In our interpretation, we've treated the independent variable as a continuous one.\n\nRecall that the way that we've interpreted a regression output has been to use this template:\n\n> For every one unit increase in [my independent variable], I observe a [$\\beta$ coefficient] unit [increase or decrease] in [my dependent variable]. The probability that the effect of [my independent variable] on [my dependent variable] would be this large or larger if the true effect were actually zero is [p-value $\\times 100$]. It seems relatively [plausible/implausible] that the true effect is not actually zero.\n\nSay that we have an independent variable that is *not* continuous. In particular, we have an independent variable that is dichotomous -- that is to say, a variable that is measured with two categories. We can come up with a number of different examples: is that person's sex assigned at birth male or female (this is very reductive of a really complex concept, but this is a common example); did this person earn a college degree or not; did they vote in an election or not; there are plenty of examples.\n\nNow say that we use a dichotomous variable, like those above, in a regression model as the independent variable. Would it make sense to use that template above? No, it doesn't make much sense. What is more intuitive is to interpret the regression results in terms of going from one category to another, what is the increase in the y-variable?\n\nLet's update our template:\n\n> When going from [one category] to [the other category], I observe a [$\\beta$ coefficient] unit [increase or decrease] in [my dependent variable]. The probability that the effect of [my independent variable] on [my dependent variable] would be this large or larger if the true effect were actually zero is [p-value $\\times 100$]. It seems relatively [plausible/implausible] that the true effect is not actually zero.\n\nThat's really about it!\n\nLet's look at an example with some code to make it a bit more concrete.\n\n## Example\n\nLet's go back to my example of the effect of waffle houses on rates of divorce.\n\n\n```{mermaid}\n%%| label: fig-waffle-abstract\n%%| fig-cap: Simple analysis\n%%| fig-width: 6\n%%{init: {'theme':'base', 'themeVariables':{'primaryColor':'#ffffff', 'primaryBorderColor': '#000000'}}}%%\ngraph LR\nA[Waffle Houses] --> B[Divorce]\n```\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load packages\nlibrary(magrittr) # for pipe operator (%>%)\nlibrary(modelsummary) # for table of regression results\nlibrary(marginaleffects) # other option for plotting results\nlibrary(visreg) # option for plotting results\n```\n:::\n\n\nLet's say that I have a variable that just tells me: is there a waffle house in the state or not. Not necessarily how many there are. So I want to examine this relationship instead.[^ Though I'd recommend not doing this because you lose a lot of information!]\n\n\n::: {.cell}\n\n:::\n\n\nI, of course, am going to do my normal univariate and bivariate descriptive statistics. Right? I'm just not going to show it here for the purposes of brevity. Now, let's say that after I've done those things, I want to run my regression. I can run the code as usual, with one slight tweak with my regression model.\n\n\n::: {#tbl-regression .cell tbl-cap='Waffle houses explains divorce rates'}\n\n```{.r .cell-code}\nregression <- lm( # run a linear regression\n    formula = Divorce ~ I(WaffleHousesBinary), # Divorce is predicted by a binary version of my wafflehouses variable\n    data = waffles_clean # using this dataset\n)\n\nmodelsummary(\n    regression, # make a table summarizing results of my regression\n        notes = c(\n        \"Data source: Waffles dataset (McElreath 2020).\",\n        \"Coefficient estimates from OLS.\",\n        \"Standard errors in parentheses\" # add a note to tell people how this model was created and with what data.\n    ),\n    stars = TRUE # print out the stars to show my p-values\n)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table style=\"NAborder-bottom: 0; width: auto !important; margin-left: auto; margin-right: auto;\" class=\"table\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:center;\"> Â (1) </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> (Intercept) </td>\n   <td style=\"text-align:center;\"> 8.996*** </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:center;\"> (0.340) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> I(WaffleHousesBinary)Yes </td>\n   <td style=\"text-align:center;\"> 1.384** </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;box-shadow: 0px 1px\">  </td>\n   <td style=\"text-align:center;box-shadow: 0px 1px\"> (0.480) </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Num.Obs. </td>\n   <td style=\"text-align:center;\"> 50 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> R2 </td>\n   <td style=\"text-align:center;\"> 0.147 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> R2 Adj. </td>\n   <td style=\"text-align:center;\"> 0.130 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> AIC </td>\n   <td style=\"text-align:center;\"> 198.8 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> BIC </td>\n   <td style=\"text-align:center;\"> 204.6 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Log.Lik. </td>\n   <td style=\"text-align:center;\"> âˆ’96.420 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> RMSE </td>\n   <td style=\"text-align:center;\"> 1.66 </td>\n  </tr>\n</tbody>\n<tfoot>\n<tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> + p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr>\n<tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Data source: Waffles dataset (McElreath 2020).</td></tr>\n<tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Coefficient estimates from OLS.</td></tr>\n<tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Standard errors in parentheses</td></tr>\n</tfoot>\n</table>\n\n`````\n:::\n:::\n\n\nWhen going from states without a waffle house to states with a waffle house, I observe a 1.3 unit increase in state divorce rate. The probability that the effect of waffle houses on divorce rate would be this large or larger if the true effect were actually zero is ``1.384``. It seems relatively plausible that the true effect is not actually zero.\n\nI can plot the predicted values I would get for each value of the WaffleHouses dataset using the `marginaleffects` package. I can use the following code to produce @fig-marginaleffects-plot. What this shows me is that states that do have waffle houses have higher rates of divorce. The dots tell me what the estimated value of divorce would be for states that do not have a waffle house and ones that do based on my regression model. The bars, represent the amount of uncertainty that I have from my model. Just as the table of my regression demonstrates (@tbl-regression), these effects are statistically significant. The bars do not overlap on this plot which shows that I am sure, to some degree, that rates of divorce are indeed influenced by the presence of a waffle house. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_predictions( # plot the predictions\n    regression, # use the regression model\n    by = \"WaffleHousesBinary\" # should be split up by whether there is a waffle house or not\n) +\ntheme_minimal() + # add this theme to the plot\nlabs( # add these labels\n    caption = \"Data source: Waffles dataset (McElreath 2020).\\n Predicted values of divorce rate based on presence of waffle houses.\"\n)\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Predicted values using `marginaleffects` package](15_dichotomous_iv_files/figure-html/fig-marginaleffects-plot-1.png){#fig-marginaleffects-plot width=672}\n:::\n:::\n\n\nI could also use the `visreg` package to show me differences in expectations about rates of divorce based on states that *do* versus states that *do not* have waffle houses.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisreg( # plot the results of the model\n    regression, # of my regression model\n    \"WaffleHousesBinary\", # what is the variable it should be split by?\n    band = FALSE, # do not include band of uncertainty\n    overlay = TRUE # include an overlay\n)\n```\n\n::: {.cell-output-display}\n![](15_dichotomous_iv_files/figure-html/visreg-predictions-1.png){width=672}\n:::\n:::\n\n\nNow, this looks different than what Dr. Philips has. Why? Well, I am only doing a bivariate regression. My X-axis does not have a continuous variable. So, things will look a bit funky as a result. \n\nIn general, though, both plots show us pretty much the same thing. That states with waffle houses have higher divorce rates than states that do not have waffle houses.\n\n## Some final notes\n\n- For a complete working example of this code, [go to this page](https://github.com/DamonCharlesRoberts/psci2075sp23.classes.damoncroberts.com/blob/main/examples/dichotomous_independent_variables.R)",
    "supporting": [
      "15_dichotomous_iv_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}