{
  "hash": "8eef7fd991ba9fdabaf16e49fd13b5ed",
  "result": {
    "markdown": "# Expectations about bivariate relationships\n\n\n::: {.cell}\n\n:::\n\nWhy are we collecting data and describing variables in isolation or patterns between two variables in the first place? While this is kind of a meta question, it is an important one to address.\n\nIn science we want to explain phenomenon. We want to deepen our understanding of the world. We can certainly use observation to help with this. However, the world can be an extremely complex place. Phenomenon may occur for multiple reasons or they may occur for a single reason that appears like it might be caused for multiple reasons. \n\nWhile we can provide observational evidence explaining that the reason it is warmer during the day than during the night is because of the energy emitted from the surface of the sun, we might want to see whether this occurs *because* of the sun or if there is some other explanation that co-occurs with the sun but is what is actually causing differences in temperatures.\n\nWhat we've done is developed a hypothesis. In this example, we've laid out an expectation that the sun makes the earth warmer. Now, how can we demonstrate whether our hypothesis is correct or not? We can just tell people, \"Hey, notice how it is warmer when the sun is up? That is because of the sun!\" People may have not made this same conclusion or noticed this pattern before. So they may doubt you. What you need to do, is provide some sort of evidence demonstrating that this pattern indeed exists. \n\n\n```{mermaid}\n%%| label: fig-simple-hypothesis\n%%| fig-cap: My simple hypothesis\n%%| fig-width: 6\n%%{init: {'theme':'base', 'themeVariables':{'primaryColor':'#ffffff', 'primaryBorderColor': '#000000'}}}%%\ngraph LR\nA[Presence of Sun] --> B[Temperature] \n```\n\n\nOne such way of providing evidence of this pattern is by collecting data on each feature (temperature and presence of the sun) in isolation and then demonstrating the pattern between the two. First, we can develop a tool to measure heat - a thermometer. Next, we can develop a procedure where we check every so often to see if the sun is still in the sky, record whether it was or not. While we do this we can then look over to our thermometer and record the temperature. What we can then do is examine the patterns by which the temperature is higher and whether the sun is present or not. We can do this by constructing something like the two-way boxplot that we pulled together in [the exercise on examining simple bivariate relationships](10_simple_bivariate_analyses.qmd).\n\nWhat if, however, someone comes to you and says: \"No its not the sun that explains temperature, it is the presence of clouds.\" You may think to yourself \"Well, yeah, the presence of clouds could definitely contribute to this, but even when it is not cloudy I can have either a cold or warm day. I still think the biggest factor is the sun.\"\n\nThe alternative hypothesis this person presents may be what we call a *confounding* variable. We have this expectation about the world that we can simplify into what is called a \"model\". In our simplest form of our model, we believe what is presented in @fig-simple-hypothesis But now, we may be expecting a slightly more complicated \"model\" of the world as shown in @fig-confounded-hypothesis.\n\n\n```{mermaid}\n%%| label: fig-confounded-hypothesis\n%%| fig-cap: Confounded hypothesis\n%%{init: {'theme':'base', 'themeVariables':{'primaryColor':'#ffffff', 'primaryBorderColor': '#000000'}}}%%\n\ngraph LR\nA[Presence of Sun] --> B[Temperature]\nC[Clouds] --> A\nC --> B\n```\n\n\nSo, what we need to do, to examine whether our intuitions are correct is determine *how much* of the influence that the sun has on the temperature is explained by the presence of clouds.\n\nWhat we can do, is we can collect data on the temperature, the presence of the sun, but we can also record how much of the sky is covered by clouds when we record our temperature and the presence of the sun.\n\nNow, what we can do, is examine the patterns between the sun and the temperature, but we can examine those patterns by *holding our confounding variable* constant. \n\nThis is really hard to do with the boxplot we may have made, right? Right. So we will have to be a bit more sophisticated in how we demonstrate these patterns now. What we can do, is do things like split our data up based on this confounding variable and create a mosiac plot for each of these two subsamples. If we have continuous data, we can build a scatter plot but add colors to the dots on the scatter plot based on the values that those observations take on for that confounding variable.\n\nLet's demonstrate each of these with an example to make it a bit less abstract.\n\n## Categorical data\n\nFor this first coding example, say that we have the following primary hypothesis\n\n\n```{mermaid}\n%%| label: fig-categorical-simple-hypothesis\n%%| fig-cap: Hypothesis - The presence of waffle houses explains divorce rates\n%%{init: {'theme':'base', 'themeVariables':{'primaryColor':'#ffffff', 'primaryBorderColor': '#000000'}}}%%\ngraph LR\nA[Waffle Houses] --> B[Divorce]\n```\n\n\nLet me turn to a dataset from @mcelreath_2020_cpc. The dataset provides state-level data on marriage rates, divorce rates, population demographics, and more.\n\nI am interested in examining the hypothesis depicted in @fig-categorical-simple-hypothesis.\n\n\n::: {.cell}\n\n:::\n\n\n\nLet me first describe each of the variables in isolation. I do this to get an understanding of each of the variables themselves.\n\n\n::: {#tbl-simple-descriptives-example .cell tbl-cap='Simple descriptive statistics'}\n\n```{.r .cell-code}\nwaffle_cat %>% # grab the cleaned nes dataset from above\n    select( # grab the following columns\n        WaffleHouses_Binary,\n        Divorce_Cat\n    ) %>%\n    datasummary_skim(\n        data = ., # use the dataset linked with the pipe operators\n        notes = \"Data source: Waffles dataset McElreath(2020).\", # provide a caption for the table\n        output = \"summary_stats_1.docx\" # save the output to this file\n    )\n```\n:::\n\n::: {#tbl-simple-descriptives .cell tbl-cap='Simple descriptive statistics'}\n::: {.cell-output-display}\n`````{=html}\n<table style=\"NAborder-bottom: 0; width: auto !important; margin-left: auto; margin-right: auto;\" class=\"table\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> Unique (#) </th>\n   <th style=\"text-align:right;\"> Missing (%) </th>\n   <th style=\"text-align:right;\"> Mean </th>\n   <th style=\"text-align:right;\"> SD </th>\n   <th style=\"text-align:right;\"> Min </th>\n   <th style=\"text-align:right;\"> Median </th>\n   <th style=\"text-align:right;\"> Max </th>\n   <th style=\"text-align:right;\">    </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> WaffleHouses_Binary </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 1.0 </td>\n   <td style=\"text-align:right;\">  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" class=\"svglite\" width=\"48.00pt\" height=\"12.00pt\" viewBox=\"0 0 48.00 12.00\"><defs><style type=\"text/css\">\n    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n    .svglite text {\n      white-space: pre;\n    }\n  </style></defs><rect width=\"100%\" height=\"100%\" style=\"stroke: none; fill: none;\"></rect><defs><clipPath id=\"cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw\"><rect x=\"0.00\" y=\"0.00\" width=\"48.00\" height=\"12.00\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)\">\n</g><defs><clipPath id=\"cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw\"><rect x=\"0.00\" y=\"2.88\" width=\"48.00\" height=\"9.12\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)\"><rect x=\"1.78\" y=\"3.22\" width=\"8.89\" height=\"8.44\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"10.67\" y=\"11.66\" width=\"8.89\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"19.56\" y=\"11.66\" width=\"8.89\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"28.44\" y=\"11.66\" width=\"8.89\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"37.33\" y=\"3.22\" width=\"8.89\" height=\"8.44\" style=\"stroke-width: 0.38; fill: #000000;\"></rect></g></svg>\n</td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Divorce_Cat </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -0.0 </td>\n   <td style=\"text-align:right;\"> 1.4 </td>\n   <td style=\"text-align:right;\"> -2.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 2.0 </td>\n   <td style=\"text-align:right;\">  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" class=\"svglite\" width=\"48.00pt\" height=\"12.00pt\" viewBox=\"0 0 48.00 12.00\"><defs><style type=\"text/css\">\n    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n    .svglite text {\n      white-space: pre;\n    }\n  </style></defs><rect width=\"100%\" height=\"100%\" style=\"stroke: none; fill: none;\"></rect><defs><clipPath id=\"cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw\"><rect x=\"0.00\" y=\"0.00\" width=\"48.00\" height=\"12.00\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)\">\n</g><defs><clipPath id=\"cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw\"><rect x=\"0.00\" y=\"2.88\" width=\"48.00\" height=\"9.12\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)\"><rect x=\"1.78\" y=\"7.91\" width=\"5.56\" height=\"3.75\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"7.33\" y=\"3.69\" width=\"5.56\" height=\"7.98\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"12.89\" y=\"11.66\" width=\"5.56\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"18.44\" y=\"11.66\" width=\"5.56\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"24.00\" y=\"11.66\" width=\"5.56\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"29.56\" y=\"3.22\" width=\"5.56\" height=\"8.44\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"35.11\" y=\"11.66\" width=\"5.56\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"40.67\" y=\"8.38\" width=\"5.56\" height=\"3.28\" style=\"stroke-width: 0.38; fill: #000000;\"></rect></g></svg>\n</td>\n  </tr>\n</tbody>\n<tfoot><tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Data source: Waffles dataset McElreath(2020).\n Credit: damoncroberts.com</td></tr></tfoot>\n</table>\n\n`````\n:::\n:::\n\n::: {#fig-simple-histogram-example .cell}\n\n```{.r .cell-code}\nwaffle_cat %>% # grab the waffles dataset\n    ggplot() + # make a plot with these data\n    geom_histogram( # specifically a histogram\n        aes(x = WaffleHouses_Cat), #put this column on the x-axis\n        fill = \"grey\", # fill the bars with a grey color \n        color = \"black\" # make the lines of the bars black\n    ) + \n    theme_minimal() + # apply the minimal theme to it\n    labs( # change some labels\n        y = \"Count\", # change y axis label to this\n        x = \"Waffle Houses\", # change x axis label to this\n        caption = \"Data source: Waffles dataset (McElreath 2020)\" # add this note to the plot\n    )\n\nwaffle_cat%>% # grab the waffles dataset\n    ggplot() + # make a plot with these data\n    geom_histogram( # specifically a histogram\n        aes(x = Divorce_Cat), # put this column on the x-axis\n        fill = \"grey\", # fill the bars with a grey color \n        color = \"black\" # make the lines of the bars black\n    ) + \n    theme_minimal() + # apply the minimal theme to it\n    labs( # change some labels\n        y = \"Count\", # change y axis label to this\n        x = \"Divorces\", # change x axis label to this\n        caption = \"Data source: Waffles dataset (McElreath 2020)\" # add this note to the plot\n    )\n```\n\nHistograms of main variables\n:::\n\n::: {#fig-simple-histogram .cell}\n::: {.cell-output-display}\n![Waffle Houses](12_bivariate_expectations_files/figure-html/fig-simple-histogram-1.png){#fig-simple-histogram-1 width=672}\n:::\n\n::: {.cell-output-display}\n![Divorce](12_bivariate_expectations_files/figure-html/fig-simple-histogram-2.png){#fig-simple-histogram-2 width=672}\n:::\n\nHistograms of main variables\n:::\n\n\nNow I can look at patterns between these two variables.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwaffle_cat %>% # use the waffles_cat dataset...\n    datasummary_crosstab( # ... with the dataset, create a crosstab\n        WaffleHouses_Cat ~ Divorce_Cat_Labelled, #... and use the two cleaned variables\n        notes = \"Data source: Waffles dataset (McElreath 2020)\", # add notes to table\n        data = ., # and use the dataset connected by the pipe operator\n        output = \"cleaner_bivariate_crosstab.docx\" # store the table in this word document\n    )\n```\n:::\n\n::: {#tbl-cleaned-crosstab .cell tbl-cap='Cross tabulation'}\n::: {.cell-output-display}\n`````{=html}\n<table style=\"NAborder-bottom: 0; width: auto !important; margin-left: auto; margin-right: auto;\" class=\"table\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> WaffleHouses_Cat </th>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> Much lower than average </th>\n   <th style=\"text-align:right;\"> Lower than average </th>\n   <th style=\"text-align:right;\"> Higher than average </th>\n   <th style=\"text-align:right;\"> Much Higher than average </th>\n   <th style=\"text-align:right;\"> All </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> No </td>\n   <td style=\"text-align:left;\"> N </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\"> % row </td>\n   <td style=\"text-align:right;\"> 28.0 </td>\n   <td style=\"text-align:right;\"> 36.0 </td>\n   <td style=\"text-align:right;\"> 28.0 </td>\n   <td style=\"text-align:right;\"> 8.0 </td>\n   <td style=\"text-align:right;\"> 100.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Yes </td>\n   <td style=\"text-align:left;\"> N </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 11 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\"> % row </td>\n   <td style=\"text-align:right;\"> 4.0 </td>\n   <td style=\"text-align:right;\"> 32.0 </td>\n   <td style=\"text-align:right;\"> 44.0 </td>\n   <td style=\"text-align:right;\"> 20.0 </td>\n   <td style=\"text-align:right;\"> 100.0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> All </td>\n   <td style=\"text-align:left;\"> N </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 17 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 50 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\"> % row </td>\n   <td style=\"text-align:right;\"> 16.0 </td>\n   <td style=\"text-align:right;\"> 34.0 </td>\n   <td style=\"text-align:right;\"> 36.0 </td>\n   <td style=\"text-align:right;\"> 14.0 </td>\n   <td style=\"text-align:right;\"> 100.0 </td>\n  </tr>\n</tbody>\n<tfoot><tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Data source: Waffles dataset (McElreath 2020).\n Credit: damoncroberts.com</td></tr></tfoot>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwaffle_cat %>% # take the waffle_cat dataset\n    ggplot() + # make a plot object\n        geom_mosaic( # specifically a mosaic plot\n            aes( # for the axes \n                x = product( # on the x axis, plot the combination of the following variables\n                    WaffleHouses_Cat, \n                    Divorce_Cat_Labelled\n                ),\n                fill = WaffleHouses_Cat # fill it with the Divorce_Cat variable\n            ),\n        ) + \n        theme_minimal() + # add this theme\n        scale_color_brewer(\n            name = \"Waffle House?\", # make this the legend title\n            wes_palette(\"Moonrise3\") # add these color palettes\n            ) + \n        labs( # adjust the labels to the plot\n            x = \"Divorce Rate\", # x-axis label\n            y = \"Waffle House?\", # y-axis label\n            caption = \"Data source: Waffles dataset (McElreath 2020)\" # caption\n        )\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Mosaic plot](12_bivariate_expectations_files/figure-html/fig-cat-mosaic-plot-1.png){#fig-cat-mosaic-plot width=672}\n:::\n:::\n\n\n\nNow let's say, I dig into the data a little bit more and wonder to myself (as any normal person would): \"is this maybe *really* about waffles?\" My new hypothesis is....\n\n\n```{mermaid}\n%%| label: fig-categorical-complicated-hypothesis\n%%| fig-cap: Hypothesis - Age of marriage predicts divorce rate\n%%{init: {'theme':'base', 'themeVariables':{'primaryColor':'#ffffff', 'primaryBorderColor': '#000000'}}}%%\n\ngraph LR\nA[Waffle Houses] --> B[Divorce]\nC[Age of marriage] --> A\nC --> B\n```\n\n\n\nI am going to again provide descriptive statistics of each of the variables by themselves. Then I'll increase the complexity of my analysis a bit more.\n\n\n::: {#tbl-tri-descriptives-example .cell tbl-cap='Descriptive statistics'}\n\n```{.r .cell-code}\nwaffle_cat %>% # grab the cleaned nes dataset from above\n    select( # grab the following columns\n        WaffleHouses_Binary,\n        Age,\n        Divorce_Cat,\n    ) %>%\n    datasummary_skim(\n        data = ., # use the dataset linked with the pipe operators\n        notes = \"Data source: Waffles dataset McElreath(2020).\", # provide a caption for the table\n        output = \"summary_stats_2.docx\" # save the output to this file\n    )\n```\n:::\n\n::: {#tbl-tri-descriptives .cell tbl-cap='Descriptive statistics'}\n::: {.cell-output-display}\n`````{=html}\n<table style=\"NAborder-bottom: 0; width: auto !important; margin-left: auto; margin-right: auto;\" class=\"table\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> Unique (#) </th>\n   <th style=\"text-align:right;\"> Missing (%) </th>\n   <th style=\"text-align:right;\"> Mean </th>\n   <th style=\"text-align:right;\"> SD </th>\n   <th style=\"text-align:right;\"> Min </th>\n   <th style=\"text-align:right;\"> Median </th>\n   <th style=\"text-align:right;\"> Max </th>\n   <th style=\"text-align:right;\">    </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> WaffleHouses_Binary </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 1.0 </td>\n   <td style=\"text-align:right;\">  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" class=\"svglite\" width=\"48.00pt\" height=\"12.00pt\" viewBox=\"0 0 48.00 12.00\"><defs><style type=\"text/css\">\n    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n    .svglite text {\n      white-space: pre;\n    }\n  </style></defs><rect width=\"100%\" height=\"100%\" style=\"stroke: none; fill: none;\"></rect><defs><clipPath id=\"cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw\"><rect x=\"0.00\" y=\"0.00\" width=\"48.00\" height=\"12.00\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)\">\n</g><defs><clipPath id=\"cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw\"><rect x=\"0.00\" y=\"2.88\" width=\"48.00\" height=\"9.12\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)\"><rect x=\"1.78\" y=\"3.22\" width=\"8.89\" height=\"8.44\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"10.67\" y=\"11.66\" width=\"8.89\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"19.56\" y=\"11.66\" width=\"8.89\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"28.44\" y=\"11.66\" width=\"8.89\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"37.33\" y=\"3.22\" width=\"8.89\" height=\"8.44\" style=\"stroke-width: 0.38; fill: #000000;\"></rect></g></svg>\n</td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Age </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4.5 </td>\n   <td style=\"text-align:right;\"> 0.7 </td>\n   <td style=\"text-align:right;\"> 3.0 </td>\n   <td style=\"text-align:right;\"> 4.0 </td>\n   <td style=\"text-align:right;\"> 6.0 </td>\n   <td style=\"text-align:right;\">  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" class=\"svglite\" width=\"48.00pt\" height=\"12.00pt\" viewBox=\"0 0 48.00 12.00\"><defs><style type=\"text/css\">\n    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n    .svglite text {\n      white-space: pre;\n    }\n  </style></defs><rect width=\"100%\" height=\"100%\" style=\"stroke: none; fill: none;\"></rect><defs><clipPath id=\"cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw\"><rect x=\"0.00\" y=\"0.00\" width=\"48.00\" height=\"12.00\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)\">\n</g><defs><clipPath id=\"cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw\"><rect x=\"0.00\" y=\"2.88\" width=\"48.00\" height=\"9.12\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)\"><rect x=\"1.78\" y=\"11.01\" width=\"7.41\" height=\"0.65\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"9.19\" y=\"3.22\" width=\"7.41\" height=\"8.44\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"16.59\" y=\"11.66\" width=\"7.41\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"24.00\" y=\"5.82\" width=\"7.41\" height=\"5.85\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"31.41\" y=\"11.66\" width=\"7.41\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"38.81\" y=\"10.36\" width=\"7.41\" height=\"1.30\" style=\"stroke-width: 0.38; fill: #000000;\"></rect></g></svg>\n</td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Divorce_Cat </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> -0.0 </td>\n   <td style=\"text-align:right;\"> 1.4 </td>\n   <td style=\"text-align:right;\"> -2.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 2.0 </td>\n   <td style=\"text-align:right;\">  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" class=\"svglite\" width=\"48.00pt\" height=\"12.00pt\" viewBox=\"0 0 48.00 12.00\"><defs><style type=\"text/css\">\n    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n    .svglite text {\n      white-space: pre;\n    }\n  </style></defs><rect width=\"100%\" height=\"100%\" style=\"stroke: none; fill: none;\"></rect><defs><clipPath id=\"cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw\"><rect x=\"0.00\" y=\"0.00\" width=\"48.00\" height=\"12.00\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)\">\n</g><defs><clipPath id=\"cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw\"><rect x=\"0.00\" y=\"2.88\" width=\"48.00\" height=\"9.12\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)\"><rect x=\"1.78\" y=\"7.91\" width=\"5.56\" height=\"3.75\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"7.33\" y=\"3.69\" width=\"5.56\" height=\"7.98\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"12.89\" y=\"11.66\" width=\"5.56\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"18.44\" y=\"11.66\" width=\"5.56\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"24.00\" y=\"11.66\" width=\"5.56\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"29.56\" y=\"3.22\" width=\"5.56\" height=\"8.44\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"35.11\" y=\"11.66\" width=\"5.56\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"40.67\" y=\"8.38\" width=\"5.56\" height=\"3.28\" style=\"stroke-width: 0.38; fill: #000000;\"></rect></g></svg>\n</td>\n  </tr>\n</tbody>\n<tfoot><tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Data source: Waffles dataset McElreath(2020).\n Credit: damoncroberts.com</td></tr></tfoot>\n</table>\n\n`````\n:::\n:::\n\n::: {#fig-tri-histogram-example .cell}\n\n```{.r .cell-code}\nwaffle_cat %>% # grab the waffles dataset\n    ggplot() + # make a plot with these data\n    geom_histogram( # specifically a histogram\n        aes(x = WaffleHouses_Cat), # put this column on the x-axis\n        fill = \"grey\", # fill the bars with a grey color \n        color = \"black\" # make the lines of the bars black\n    ) + \n    theme_minimal() + # apply the minimal theme to it\n    labs( # change some labels\n        y = \"Count\", # change y axis label to this\n        x = \"Waffle Houses\", # change x axis label to this\n        caption = \"Data source: Waffles dataset (McElreath 2020)\" # add this note to the plot\n    )\n\nwaffle_cat %>% # grab the waffles dataset\n    ggplot() + # make a plot with these data\n    geom_histogram( # specifically a histogram\n        aes(x = Age_Cat), # put this column on the x-axis\n        fill = \"grey\", # fill the bars with a grey color\n        color = \"black\" # make the lines of the bars black\n    ) +\n    theme_minimal() + # apply the minimal theme to it\n    labs(# change some labels\n        y = \"Count\", # change the y axis label to this\n        x = \"Age\", # change the x axis label to this\n        caption = \"Data source: Waffles dataset (McElreath 2020)\" # add this note to the plot\n    )\n\nwaffle_cat%>% # grab the waffles dataset\n    ggplot() + # make a plot with these data\n    geom_histogram( # specifically a histogram\n        aes(x = Divorce_Cat_Labelled), # put this column on the x-axis\n        fill = \"grey\", # fill the bars with a grey color \n        color = \"black\" # make the lines of the bars black\n    ) + \n    theme_minimal() + # apply the minimal theme to it\n    labs( # change some labels\n        y = \"Count\", # change y axis label to this\n        x = \"Divorces\", # change x axis label to this\n        caption = \"Data source: Waffles dataset (McElreath 2020)\" # add this note to the plot\n    )\n```\n\nHistograms of main variables\n:::\n\n::: {#fig-tri-histogram .cell}\n::: {.cell-output-display}\n![Waffle Houses](12_bivariate_expectations_files/figure-html/fig-tri-histogram-1.png){#fig-tri-histogram-1 width=672}\n:::\n\n::: {.cell-output-display}\n![Age](12_bivariate_expectations_files/figure-html/fig-tri-histogram-2.png){#fig-tri-histogram-2 width=672}\n:::\n\n::: {.cell-output-display}\n![Divorce](12_bivariate_expectations_files/figure-html/fig-tri-histogram-3.png){#fig-tri-histogram-3 width=672}\n:::\n\nHistograms of main variables\n:::\n\n\nI've looked at each of the variables by themselves then have gotten a sense of the patterns between the two primary variables of interest. But now, let me consider what this looks like between varying age ranges.\n\nTo do this, I am going to make the same mosaic plot I made above, but am going to make one for ***each*** age category\n\n::: {.cell}\n\n```{.r .cell-code}\nwaffle_cat %>% # take the waffle_cat dataset\n    filter(Age_Cat == \"22-24\") %>% # grab this age subset\n    ggplot() + # make a plot object\n        geom_mosaic( # specifically a mosaic plot\n            aes( # for the axes \n                x = product( # on the x axis, plot the combination of the following variables\n                    WaffleHouses_Cat,\n                    Divorce_Cat_Labelled\n                ),\n                fill = WaffleHouses_Cat # fill it with the Divorce_Cat variable\n            ),\n        ) + \n        theme_minimal() + # add this theme\n        scale_fill_brewer(\n            name = \"Divorce rate\", # make this the legend title\n            wes_palette(\"Moonrise3\") # add these color palettes\n            ) + \n        labs( # adjust the labels to the plot\n            x = \"Waffle House?\", # x-axis label\n            y = \"Divorce rate\", # y-axis label\n            caption = \"Data source: Waffles dataset (McElreath 2020)\" # caption\n        )\n\nwaffle_cat %>% # take the waffle_cat dataset\n    filter(Age_Cat == \"24-26\") %>% # grab this age subset\n    ggplot() + # make a plot object\n        geom_mosaic( # specifically a mosaic plot\n            aes( # for the axes \n                x = product( # on the x axis, plot the combination of the following variables\n                    WaffleHouses_Cat,\n                    Divorce_Cat_Labelled\n                ),\n                fill = WaffleHouses_Cat # fill it with the Divorce_Cat variable\n            ),\n        ) + \n        theme_minimal() + # add this theme\n        scale_fill_brewer(\n            name = \"Divorce rate\", # make this the legend title\n            wes_palette(\"Moonrise3\") # add these color palettes\n            ) + \n        labs( # adjust the labels to the plot\n            x = \"Waffle House?\", # x-axis label\n            y = \"Divorce rate\", # y-axis label\n            caption = \"Data source: Waffles dataset (McElreath 2020)\" # caption\n        )\n\nwaffle_cat %>% # take the waffle_cat dataset\n    filter(Age_Cat == \"26-28\") %>% # grab this age subset\n    ggplot() + # make a plot object\n        geom_mosaic( # specifically a mosaic plot\n            aes( # for the axes \n                x = product( # on the x axis, plot the combination of the following variables\n                    WaffleHouses_Cat,\n                    Divorce_Cat_Labelled\n                ),\n                fill = WaffleHouses_Cat # fill it with the Divorce_Cat variable\n            ),\n        ) + \n        theme_minimal() + # add this theme\n        scale_fill_brewer(\n            name = \"Divorce rate\", # make this the legend title\n            wes_palette(\"Moonrise3\") # add these color palettes\n            ) + \n        labs( # adjust the labels to the plot\n            x = \"Waffle House?\", # x-axis label\n            y = \"Divorce rate\", # y-axis label\n            caption = \"Data source: Waffles dataset (McElreath 2020)\" # caption\n        )\n\nwaffle_cat %>% # take the waffle_cat dataset\n    filter(Age_Cat == \"28+\") %>% # grab this age subset\n    ggplot() + # make a plot object\n        geom_mosaic( # specifically a mosaic plot\n            aes( # for the axes \n                x = product( # on the x axis, plot the combination of the following variables\n                    WaffleHouses_Cat,\n                    Divorce_Cat_Labelled\n                ),\n                fill = WaffleHouses_Cat # fill it with the Divorce_Cat variable\n            ),\n        ) + \n        theme_minimal() + # add this theme\n        scale_fill_brewer(\n            name = \"Divorce rate\", # make this the legend title\n            wes_palette(\"Moonrise3\") # add these color palettes\n            ) + \n        labs( # adjust the labels to the plot\n            x = \"Waffle House?\", # x-axis label\n            y = \"Divorce rate\", # y-axis label\n            caption = \"Data source: Waffles dataset (McElreath 2020)\" # caption\n        )\n```\n:::\n\n::: {#fig-mosaic-plot .cell}\n::: {.cell-output-display}\n![22-24 years old](12_bivariate_expectations_files/figure-html/fig-mosaic-plot-1.png){#fig-mosaic-plot-1 width=672}\n:::\n\n::: {.cell-output-display}\n![24-26 years old](12_bivariate_expectations_files/figure-html/fig-mosaic-plot-2.png){#fig-mosaic-plot-2 width=672}\n:::\n\n::: {.cell-output-display}\n![26-28 years old](12_bivariate_expectations_files/figure-html/fig-mosaic-plot-3.png){#fig-mosaic-plot-3 width=672}\n:::\n\n::: {.cell-output-display}\n![28+ years old](12_bivariate_expectations_files/figure-html/fig-mosaic-plot-4.png){#fig-mosaic-plot-4 width=672}\n:::\n\nMosaic plot\n:::\n\n\n# Continuous data\n\nThankfully I have these data as continuous data instead. Let me look at the exact same hypotheses presented in @fig-simple-hypothesis and @fig-categorical-complicated-hypothesis.\n\nAgain, first I am going to try to understand each variable in isolation first.\n\n\n::: {#tbl-cont-descriptives-example .cell tbl-cap='Descriptive statistics'}\n\n```{.r .cell-code}\nwaffle_cat %>% # grab the cleaned nes dataset from above\n    select( # grab the following columns\n        WaffleHouses,\n        Age,\n        Divorce,\n    ) %>%\n    datasummary_skim(\n        data = ., # use the dataset linked with the pipe operators\n        notes = \"Data source: Waffles dataset McElreath(2020).\", # provide a caption for the table\n        output = \"summary_stats_3.docx\" # save the output to this file\n    )\n```\n:::\n\n::: {#tbl-cont-descriptives .cell tbl-cap='Descriptive statistics'}\n::: {.cell-output-display}\n`````{=html}\n<table style=\"NAborder-bottom: 0; width: auto !important; margin-left: auto; margin-right: auto;\" class=\"table\">\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:right;\"> Unique (#) </th>\n   <th style=\"text-align:right;\"> Missing (%) </th>\n   <th style=\"text-align:right;\"> Mean </th>\n   <th style=\"text-align:right;\"> SD </th>\n   <th style=\"text-align:right;\"> Min </th>\n   <th style=\"text-align:right;\"> Median </th>\n   <th style=\"text-align:right;\"> Max </th>\n   <th style=\"text-align:right;\">    </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> WaffleHouses </td>\n   <td style=\"text-align:right;\"> 22 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 32.3 </td>\n   <td style=\"text-align:right;\"> 65.8 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 1.0 </td>\n   <td style=\"text-align:right;\"> 381.0 </td>\n   <td style=\"text-align:right;\">  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" class=\"svglite\" width=\"48.00pt\" height=\"12.00pt\" viewBox=\"0 0 48.00 12.00\"><defs><style type=\"text/css\">\n    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n    .svglite text {\n      white-space: pre;\n    }\n  </style></defs><rect width=\"100%\" height=\"100%\" style=\"stroke: none; fill: none;\"></rect><defs><clipPath id=\"cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw\"><rect x=\"0.00\" y=\"0.00\" width=\"48.00\" height=\"12.00\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)\">\n</g><defs><clipPath id=\"cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw\"><rect x=\"0.00\" y=\"2.88\" width=\"48.00\" height=\"9.12\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)\"><rect x=\"1.78\" y=\"3.22\" width=\"5.83\" height=\"8.44\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"7.61\" y=\"10.58\" width=\"5.83\" height=\"1.08\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"13.44\" y=\"10.58\" width=\"5.83\" height=\"1.08\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"19.28\" y=\"11.66\" width=\"5.83\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"25.11\" y=\"11.66\" width=\"5.83\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"30.94\" y=\"11.66\" width=\"5.83\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"36.77\" y=\"11.66\" width=\"5.83\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"42.61\" y=\"11.45\" width=\"5.83\" height=\"0.22\" style=\"stroke-width: 0.38; fill: #000000;\"></rect></g></svg>\n</td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Age </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4.5 </td>\n   <td style=\"text-align:right;\"> 0.7 </td>\n   <td style=\"text-align:right;\"> 3.0 </td>\n   <td style=\"text-align:right;\"> 4.0 </td>\n   <td style=\"text-align:right;\"> 6.0 </td>\n   <td style=\"text-align:right;\">  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" class=\"svglite\" width=\"48.00pt\" height=\"12.00pt\" viewBox=\"0 0 48.00 12.00\"><defs><style type=\"text/css\">\n    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n    .svglite text {\n      white-space: pre;\n    }\n  </style></defs><rect width=\"100%\" height=\"100%\" style=\"stroke: none; fill: none;\"></rect><defs><clipPath id=\"cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw\"><rect x=\"0.00\" y=\"0.00\" width=\"48.00\" height=\"12.00\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)\">\n</g><defs><clipPath id=\"cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw\"><rect x=\"0.00\" y=\"2.88\" width=\"48.00\" height=\"9.12\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)\"><rect x=\"1.78\" y=\"11.01\" width=\"7.41\" height=\"0.65\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"9.19\" y=\"3.22\" width=\"7.41\" height=\"8.44\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"16.59\" y=\"11.66\" width=\"7.41\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"24.00\" y=\"5.82\" width=\"7.41\" height=\"5.85\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"31.41\" y=\"11.66\" width=\"7.41\" height=\"0.00\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"38.81\" y=\"10.36\" width=\"7.41\" height=\"1.30\" style=\"stroke-width: 0.38; fill: #000000;\"></rect></g></svg>\n</td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Divorce </td>\n   <td style=\"text-align:right;\"> 38 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 9.7 </td>\n   <td style=\"text-align:right;\"> 1.8 </td>\n   <td style=\"text-align:right;\"> 6.1 </td>\n   <td style=\"text-align:right;\"> 9.8 </td>\n   <td style=\"text-align:right;\"> 13.5 </td>\n   <td style=\"text-align:right;\">  <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" class=\"svglite\" width=\"48.00pt\" height=\"12.00pt\" viewBox=\"0 0 48.00 12.00\"><defs><style type=\"text/css\">\n    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {\n      fill: none;\n      stroke: #000000;\n      stroke-linecap: round;\n      stroke-linejoin: round;\n      stroke-miterlimit: 10.00;\n    }\n    .svglite text {\n      white-space: pre;\n    }\n  </style></defs><rect width=\"100%\" height=\"100%\" style=\"stroke: none; fill: none;\"></rect><defs><clipPath id=\"cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw\"><rect x=\"0.00\" y=\"0.00\" width=\"48.00\" height=\"12.00\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)\">\n</g><defs><clipPath id=\"cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw\"><rect x=\"0.00\" y=\"2.88\" width=\"48.00\" height=\"9.12\"></rect></clipPath></defs><g clip-path=\"url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)\"><rect x=\"1.18\" y=\"8.85\" width=\"6.01\" height=\"2.81\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"7.18\" y=\"6.74\" width=\"6.01\" height=\"4.93\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"13.19\" y=\"6.03\" width=\"6.01\" height=\"5.63\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"19.20\" y=\"5.33\" width=\"6.01\" height=\"6.33\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"25.20\" y=\"3.22\" width=\"6.01\" height=\"8.44\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"31.21\" y=\"8.85\" width=\"6.01\" height=\"2.81\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"37.21\" y=\"8.14\" width=\"6.01\" height=\"3.52\" style=\"stroke-width: 0.38; fill: #000000;\"></rect><rect x=\"43.22\" y=\"10.96\" width=\"6.01\" height=\"0.70\" style=\"stroke-width: 0.38; fill: #000000;\"></rect></g></svg>\n</td>\n  </tr>\n</tbody>\n<tfoot><tr><td style=\"padding: 0; \" colspan=\"100%\">\n<sup></sup> Data source: Waffles dataset McElreath(2020).\n Credit: damoncroberts.com</td></tr></tfoot>\n</table>\n\n`````\n:::\n:::\n\n::: {#fig-cont-histogram-example .cell}\n\n```{.r .cell-code}\nwaffle_cat %>% # grab the waffles dataset\n    ggplot() + # make a plot with these data\n    geom_histogram( # specifically a histogram\n        aes(x = WaffleHouses), # put this column on the x-axis\n        fill = \"grey\", # fill the bars with a grey color \n        color = \"black\" # make the lines of the bars black\n    ) + \n    theme_minimal() + # apply the minimal theme to it\n    labs( # change some labels\n        y = \"Count\", # change y axis label to this\n        x = \"Waffle Houses\", # change x axis label to this\n        caption = \"Data source: Waffles dataset (McElreath 2020)\" # add this note to the plot\n    )\n\nwaffle_cat %>% # grab the waffles dataset\n    ggplot() + # make a plot with these data\n    geom_histogram( # specifically a histogram\n        aes(x = Age), # put this column on the x-axis\n        fill = \"grey\", # fill the bars with a grey color\n        color = \"black\" # make the lines of the bars black\n    ) +\n    theme_minimal() + # apply the minimal theme to it\n    labs(# change some labels\n        y = \"Count\", # change the y axis label to this\n        x = \"Age\", # change the x axis label to this\n        caption = \"Data source: Waffles dataset (McElreath 2020)\" # add this note to the plot\n    )\n\nwaffle_cat%>% # grab the waffles dataset\n    ggplot() + # make a plot with these data\n    geom_histogram( # specifically a histogram\n        aes(x = Divorce), # put this column on the x-axis\n        fill = \"grey\", # fill the bars with a grey color \n        color = \"black\" # make the lines of the bars black\n    ) + \n    theme_minimal() + # apply the minimal theme to it\n    labs( # change some labels\n        y = \"Count\", # change y axis label to this\n        x = \"Divorces\", # change x axis label to this\n        caption = \"Data source: Waffles dataset (McElreath 2020)\" # add this note to the plot\n    )\n```\n\nHistograms of main variables\n:::\n\n::: {#fig-cont-histogram .cell}\n::: {.cell-output-display}\n![Waffle Houses](12_bivariate_expectations_files/figure-html/fig-cont-histogram-1.png){#fig-cont-histogram-1 width=672}\n:::\n\n::: {.cell-output-display}\n![Age](12_bivariate_expectations_files/figure-html/fig-cont-histogram-2.png){#fig-cont-histogram-2 width=672}\n:::\n\n::: {.cell-output-display}\n![Divorce](12_bivariate_expectations_files/figure-html/fig-cont-histogram-3.png){#fig-cont-histogram-3 width=672}\n:::\n\nHistograms of main variables\n:::\n\n\nNow, let me take advantage of a scatterplot to not only examine the relationship between the presence of waffle houses and divorce but conditional on age.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwaffle_cat %>% # grab the waffles dataset\n    ggplot(\n        data = .,\n    ) + # make a ggplot object\n    geom_point( # specifically a scatterplot\n        aes(\n            x = WaffleHouses, # put waffle houses on the x-axis\n            y = Divorce, # put Divorce on the y-axis\n            fill = Age_Cat, #fill the color of each dot by age\n            color = Age_Cat #color the dots by age\n            ),\n\n    ) +\n    scale_fill_brewer(\n        name = \"Age\", # make this the legend title\n        wes_palette(\"Moonrise3\") # add these color palettes\n    ) +\n    theme_minimal() + # add the minimal theme\n    labs( # adjust the labels\n        x = \"Number of waffle houses\", # change x-axis label to this\n        y = \"Divorce\", # change y-axis label to this\n        caption = \"Data source: Waffles dataset (McElreath 2020)\"\n    )\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Scatterplot](12_bivariate_expectations_files/figure-html/fig-scatterplot-1.png){#fig-scatterplot width=672}\n:::\n:::",
    "supporting": [
      "12_bivariate_expectations_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}