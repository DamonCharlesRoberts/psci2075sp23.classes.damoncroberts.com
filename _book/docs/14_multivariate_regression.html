<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PSCI 2075 Recitation Handout - 15&nbsp; ü§ì Multivariate regression</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../docs/references.html" rel="next">
<link href="../docs/13_bivariate_regression.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-8Z2BLG3VEE"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-8Z2BLG3VEE', { 'anonymize_ip': true});
</script>
<script src="../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">

<script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">ü§ì Multivariate regression</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">PSCI 2075 Recitation Handout</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">üëã Welcome</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/handout.html" class="sidebar-item-text sidebar-link">Recitation Policies</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/outline.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title"><i class="fa-solid fa-timeline" aria-label="timeline"></i> Outline: What we‚Äôve done in recitation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/01_setup.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">üèÅ R Setup</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/02_anatomy.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">ü´Ä Anatomy of IDE interface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/03_file_structure.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">üìÅ Computer File Structure</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/04_run_code.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">üèÉ‚Äç‚ôÇÔ∏èRunning Code</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/05_quarto.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">üôÄ Quarto (Optional)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/06_r_syntax_basics.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">üëæ Basics of R syntax</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/07_loading_data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">üîÉ Loading Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/08_summarizing_data.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">üëÄ Descriptive statistics and summarizing your data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/09_simple_data_cleaning.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">üßπ Simple data cleaning</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/10_simple_bivariate_analyses.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">2Ô∏è‚É£ Simple bivariate analyses</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/11_group_assignment_one.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Group Assignment 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/12_bivariate_expectations.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Expectations about bivariate relationships</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/13_bivariate_regression.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Bivariate regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/14_multivariate_regression.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">ü§ì Multivariate regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../docs/references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#some-final-notes" id="toc-some-final-notes" class="nav-link active" data-scroll-target="#some-final-notes"><span class="toc-section-number">15.1</span>  Some final notes</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">ü§ì Multivariate regression</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">

</div>
<p>In the previous couple of exercises we have examined relationships between variables. In the last exercise, we addressed a particular type of relationship that is often of interest to scientists: a <code>causal</code> relationship. A causal relationship not only says that two variables are related to one another, but that one variable <em>causes</em> the other variable. That is, a <code>causal</code> relationship <em>argues</em> that there is a structure to that relationship, whereas a <code>correlational</code> relationship is agnostic about the structure of such relationship and only suggests that there is a relationship.</p>
<p>In the last exercise, we examined <code>bivariate</code> causal relationships through a <code>regression</code>. Recall that a <code>regression</code> examines causal relationships by forcing us, the researchers, to specify a structure to that relationship.</p>
<p>In the example before, we used the <code>lm()</code> function <span class="citation" data-cites="r_software">(<a href="references.html#ref-r_software" role="doc-biblioref">R Core Team 2021</a>)</span> to fit a bivariate regression model that examined the hypothesized relationship presented in <a href="#fig-waffle-hypothesis">Figure&nbsp;<span>15.1</span></a>.</p>
<div class="cell" data-fig-width="6">
<div class="cell-output-display">
<div id="fig-waffle-hypothesis" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p>
</p><pre class="mermaid mermaid-js" data-tooltip-selector="#mermaid-tooltip-1">%%{init: {'theme':'base', 'themeVariables':{'primaryColor':'#ffffff', 'primaryBorderColor': '#000000'}}}%%
graph LR
A[Waffle Houses] --&gt; B[Divorce] 
</pre>
<div id="mermaid-tooltip-1" class="mermaidTooltip">

</div>
<p></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;15.1: My simple hypothesis</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The <em>mathy</em> way that we examined this relationship is by finding <span class="math inline">\(\beta\)</span> and <span class="math inline">\(\alpha\)</span> based on our data.</p>
<p><span class="math display">\[
\text{Divorce rate} = \beta \times \text{Waffle houses} + \alpha
\]</span></p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Recall
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Dependent variable: The variable that is being explained by another variable. It is the variable that <em>depends</em> on another variable.</li>
<li>Independent variable: The predictor or explanatory variable. It is the variable explaining the other variable. We are assuming that it is not dependent on some other variable itself (what we will cover here in a second).</li>
<li><span class="math inline">\(\beta\)</span>: The slope. This is the <em>effect</em> that Waffle houses has on divorce rate.</li>
<li><span class="math inline">\(\alpha\)</span>: The intercept. This is the parts of divorce that is not explained by <span class="math inline">\(\beta \times \text{Waffle houses}\)</span>. This includes any randomness inherent to the world along with other systematic things that is not explained by waffle houses.</li>
<li>residual: Recall back to our visual of the scatter plot with the line of best fit through it. The residual is the difference between the <code>predicted</code> value provided by the line and the <code>observed</code> value provided by our data. The larger our residual, the less accurate our prediction is for that particular data point.</li>
<li>standard error: The standard error just reflects what we‚Äôd get if we calculated the standard deviation of our residuals.</li>
</ul>
</div>
</div>
<p>In R <span class="citation" data-cites="r_software">(<a href="references.html#ref-r_software" role="doc-biblioref">R Core Team 2021</a>)</span>, we defined this same process by writing this code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>( <span class="co"># specify a linear model</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">formula =</span> Divorce <span class="sc">~</span> WaffleHouses, <span class="co"># divorce is explained by WaffleHouses </span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> waffles <span class="co"># we got these data from the waffles dataset</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the ‚Äúrecall‚Äù block above, I made a quite interesting statement when providing a short definition for the independent variable. I said that ‚Äúwe are assuming that it is not dependent on some other variable itself‚Äù. This is an <em>extremely</em> important statement, though it may sound innocuous.</p>
<p>In the simple hypothesis I presented in <a href="#fig-waffle-hypothesis">Figure&nbsp;<span>15.1</span></a>, I am arguing that Waffle Houses are explaining or predicting the rate of Divorce. However, I am not saying anything about whether Waffle Houses are <em>also</em> explained by something.</p>
<p>What does this mean to our regression we estimated with the code above? It means that I am <em>asserting</em> or <em>assuming</em> that Waffle Houses are the <em>only</em> thing causing Divorce. Divorces do not have an alternative explanation besides Waffle Houses nor does this imply that I think that Divorces are caused by Waffle Houses through some other means. Both of these are absurd statements. Of course, divorce is caused by something other than Waffle Houses and that Waffle Houses and divorce rates can be affected by something simultaneously.</p>
<p>To help you visualize this, let me provide a figure depicting these two points.</p>
<div class="cell" data-fig-width="6">
<div class="cell-output-display">
<div id="fig-waffle-abstract" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p>
</p><pre class="mermaid mermaid-js" data-tooltip-selector="#mermaid-tooltip-2">%%{init: {'theme':'base', 'themeVariables':{'primaryColor':'#ffffff', 'primaryBorderColor': '#000000'}}}%%
graph LR
A[Waffle Houses] --&gt; B[Divorce]
C[Z] --&gt; B
D[C] --&gt; A
D --&gt; B
</pre>
<div id="mermaid-tooltip-2" class="mermaidTooltip">

</div>
<p></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;15.2: A more realistic assertion</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>The first situation that I described is reflected by the <code>Z</code> variable in <a href="#fig-waffle-abstract">Figure&nbsp;<span>15.3</span></a>. Divorce has an alternative explanation coming from some other variable I will call <code>Z</code>. In this particular circumstance, <code>Z</code> is a truly alternative explanation to Divorce rates.</p>
<p>The second situation that I described is reflected by the <code>C</code> variable in <a href="#fig-waffle-abstract">Figure&nbsp;<span>15.3</span></a>. <code>C</code> in this case is what we call a <code>Confounding variable</code>. We‚Äôve already talked about these in the context of visually examining conditional bivariate relationships <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. A confounding variable, as is visually represented in <a href="#fig-waffle-abstract">Figure&nbsp;<span>15.3</span></a>, explains both Waffle Houses and Divorce.</p>
<p>When we discussed this particular example in <a href="../docs/12_bivariate_expectations.html">a previous exercise</a>, the confounder I visually examined was the Median Age of Marriage.</p>
<div class="cell" data-fig-width="6">
<div class="cell-output-display">
<div id="fig-waffle-abstract" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p>
</p><pre class="mermaid mermaid-js" data-tooltip-selector="#mermaid-tooltip-3">%%{init: {'theme':'base', 'themeVariables':{'primaryColor':'#ffffff', 'primaryBorderColor': '#000000'}}}%%
graph LR
A[Waffle Houses] --&gt; B[Divorce]
D[Median Age of Marriage] --&gt; A
D --&gt; B
</pre>
<div id="mermaid-tooltip-3" class="mermaidTooltip">

</div>
<p></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;15.3: A more realistic assertion</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Why did I choose this? Well, we can imagine that the <code>MedianAgeMarriage</code> may predict the presence of Waffle Houses (whether or not you are in the U.S. South, in a suburb, etc.). We can also imagine that people that are married younger are also more likely to be divorced.</p>
<p>So can we make a scatterplot with <code>GGPlot2</code> <span class="citation" data-cites="ggplot2">(<a href="references.html#ref-ggplot2" role="doc-biblioref">Wickham 2016</a>)</span> of this? Sure.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>waffles <span class="sc">%&gt;%</span> <span class="co"># grab my waffles dataset</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>( <span class="co"># I am going to make a plot with these data</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> ., <span class="co"># I already specified my dataset above so I can just use the dot as a shortcut</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>( <span class="co"># specifically, I am going to make a scatterplot</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> WaffleHouses, <span class="co"># put this variable on my x-axis</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> Divorce, <span class="co"># put this variable on my y-axis</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> MedianAgeMarriage <span class="co"># change the size of the dots based on age of marriage variable</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"#D3D3D3"</span>, <span class="co"># fill the color of each dot with light grey</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#D3D3D3"</span> <span class="co"># color the dots with light grey</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>( <span class="co"># add a line of best fit to it</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">x =</span> WaffleHouses, <span class="co"># this variable should be on the x-axis</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">y =</span> Divorce <span class="co"># this variable should be on the y-axis</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"lm"</span>, <span class="co"># specifically a straight line</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"#000000"</span>, <span class="co"># make the line black</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">se =</span> <span class="cn">FALSE</span> <span class="co"># do not include a visual representation of uncertainty</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span> <span class="co"># add the minimal theme</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>( <span class="co"># adjust the labels</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Number of waffle houses"</span>, <span class="co"># change x-axis label to this</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Divorce"</span>, <span class="co"># change y-axis labe lto this</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">caption =</span> <span class="st">"Data source: Waffles dataset (McElreath 2020)."</span> <span class="co"># add this as the caption to the plot</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-scatterplot" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="14_multivariate_regression_files/figure-html/fig-scatterplot-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;15.4: The effect of WaffleHouses on Divorce conditional on Age</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>While we can still see a positive relationship between these two things, the line of best fit is only calculated using <code>WaffleHouses</code> and <code>Divorce</code>. We have to rely on our eyes to examine the relationship between the two once we account for age. That can be quite a challenge. Now imagine we think there are multiple confounding variables on top of <code>MedianAgeMarriage</code>. How would we depict that? I don‚Äôt know. This is one of the greatest challenges of data analysis - visuals are really powerful when they work, but once things start to get really complex, they can be misleading and really hard to understand.</p>
<p>Let‚Äôs use the <code>lm()</code> function <span class="citation" data-cites="r_software">(<a href="references.html#ref-r_software" role="doc-biblioref">R Core Team 2021</a>)</span> we used before to calculate a regression but one that <code>controls</code> for our confounding variable <code>MedianAgeMarriage</code>. The code is actually not that much more complex!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>( <span class="co"># going to calculate a regression with a straight line</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">formula =</span> Divorce <span class="sc">~</span> WaffleHouses <span class="sc">+</span> MedianAgeMarriage, <span class="co"># keep what I had before, just add MedianAgeMarriage to my formula</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> waffles <span class="co"># using the waffles dataset</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Divorce ~ WaffleHouses + MedianAgeMarriage, data = waffles)

Coefficients:
      (Intercept)       WaffleHouses  MedianAgeMarriage  
         31.46226            0.00516           -0.84214  </code></pre>
</div>
</div>
<p>Like we did in the <a href="../docs/13_bivariate_regression.html">Bivariate regression exercise</a>, I can make a table with these data with relative ease by using the <code>modelsummary()</code> function in the <code>modelsummary</code> package <span class="citation" data-cites="modelsummary">(<a href="references.html#ref-modelsummary" role="doc-biblioref">Arel-Bundock 2022</a>)</span>. What I‚Äôll have to do instead is store the result of my <code>lm()</code> function <span class="citation" data-cites="r_software">(<a href="references.html#ref-r_software" role="doc-biblioref">R Core Team 2021</a>)</span> into an object.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>multivariate_regression <span class="ot">&lt;-</span> <span class="fu">lm</span>( <span class="co"># calculate a regression with a straight line</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">formula =</span> Divorce <span class="sc">~</span> WaffleHouses <span class="sc">+</span> MedianAgeMarriage, <span class="co"># keep what I had before, just add MedianAgeMarriage to my formula</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> waffles <span class="co"># using the waffles dataset</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>( <span class="co"># make a table of results to a regression</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    multivariate_regression, <span class="co"># show the results of my multivariate_regression</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">notes =</span> <span class="fu">c</span>(</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Data source: Waffles dataset (McElreath 2020)."</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Coefficient estimates from OLS."</span>,</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Standard errors in parentheses"</span> <span class="co"># add a note to tell people how this model was created and with what data.</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">stars =</span> <span class="cn">TRUE</span> <span class="co"># print out the stars to show my p-values</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table style="NAborder-bottom: 0; width: auto !important; margin-left: auto; margin-right: auto;" class="table">
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:center;"> &nbsp;(1) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> (Intercept) </td>
   <td style="text-align:center;"> 31.462*** </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:center;"> (4.391) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> WaffleHouses </td>
   <td style="text-align:center;"> 0.005 </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:center;"> (0.003) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> MedianAgeMarriage </td>
   <td style="text-align:center;"> ‚àí0.842*** </td>
  </tr>
  <tr>
   <td style="text-align:left;box-shadow: 0px 1px">  </td>
   <td style="text-align:center;box-shadow: 0px 1px"> (0.168) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Num.Obs. </td>
   <td style="text-align:center;"> 50 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> R2 </td>
   <td style="text-align:center;"> 0.391 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> R2 Adj. </td>
   <td style="text-align:center;"> 0.365 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> AIC </td>
   <td style="text-align:center;"> 184.0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> BIC </td>
   <td style="text-align:center;"> 191.7 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Log.Lik. </td>
   <td style="text-align:center;"> ‚àí88.009 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> RMSE </td>
   <td style="text-align:center;"> 1.41 </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> + p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Data source: Waffles dataset (McElreath 2020).</td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Coefficient estimates from OLS.</td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Standard errors in parentheses</td></tr>
</tfoot>
</table>

</div>
</div>
<p>Note, that instead of using <code>modelsummary()</code> from the <code>modelsummary</code> package <span class="citation" data-cites="modelsummary">(<a href="references.html#ref-modelsummary" role="doc-biblioref">Arel-Bundock 2022</a>)</span>, I could use <code>stargazer()</code> from the <code>stargazer</code> package <span class="citation" data-cites="stargazer">(<a href="references.html#ref-stargazer" role="doc-biblioref">Hlavac 2022</a>)</span>.</p>
<p>How would I interpret this table? The general template to follow is this:</p>
<blockquote class="blockquote">
<p>For every one unit increase in [my independent variable], I observe a [<span class="math inline">\(\beta\)</span> coefficient] unit [increase or decrease] in [my dependent variable]. The probability that the effect of [my independent variable] on [my dependent variable] would be this large or larger if the true effect were actually zero is [p-value]. It seems relatively [plausible/implausible] that the true effect is not actually zero.</p>
</blockquote>
<p>So for this particular model, I would say: For every one more Waffle House in a state, I would expect a <code>0.005</code> increase in divorce rate for the state. The probability that the effect of Waffle Houses on Divorce rates would be this large or larger if the true effect were actually 0 is <code>0.111</code>. It seems relatively plausible that once we account for Median Age of Marriage, that the effect of Waffle Houses on Divorce rates is actually zero.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>How do I know which p-value or number of stars is sufficient to determine whether it is plausible or implausible that the true effect is actually 0?</p>
<p>You don‚Äôt. It is entirely arbitrary.</p>
<p>However, applied staticians have arbitrarily chosen the p-value of 0.05 as the cut-off for plausibility <span class="citation" data-cites="kim_2015">(<a href="references.html#ref-kim_2015" role="doc-biblioref">Kim 2015</a>)</span>. Why did they choose that value? Well, there is quite a bit of history that guides that <span class="citation" data-cites="gill_1999_prq">(<a href="references.html#ref-gill_1999_prq" role="doc-biblioref">Gill 1999</a>)</span>. But in short, imho, people have lazily and ignorantly (I know harsh words, probably the most grumpy you‚Äôll ever see me, but this is one of my biggest pet-peeves) relied upon a p-value of 0.05 as their cut-off because it is easy and because people have either misinterpreted history or are just unaware of it and go along with what everyone else does.</p>
<p>So, if you have a p-value less than 0.05, then people often conclude that it is implausible that you‚Äôd have calculated a <span class="math inline">\(\beta\)</span> coefficient that large or larger if the true effect were actually zero. A p-value greater than 0.05 often let‚Äôs skeptics come to the conclusion that you plausibly estimated a <span class="math inline">\(\beta\)</span> coefficient that large or larger when the true effect is actually zero.</p>
<p>For this class, the more stars you have (the smaller your p-value), the better. But if you have a p-value beneath 0.05 (two or more stars), then you can conclude that your results are statistically significant.</p>
<p>Outside of this class, however, please do not use this entirely arbitrary cutoff. Recognize that if you have two or more stars or a p-value less than 0.05, it doesn‚Äôt <em>prove</em> anything <span class="citation" data-cites="imbens_2021">(<a href="references.html#ref-imbens_2021" role="doc-biblioref">Imbens 2021</a>)</span>. TBH, even if you have a p-value smaller than 0.05 and you conclude the effects are statistically significant, it still hasn‚Äôt <em>proven</em> the effect <span class="citation" data-cites="imbens_2021">(<a href="references.html#ref-imbens_2021" role="doc-biblioref">Imbens 2021</a>)</span>. It just states that the effect is plausibly different than zero.</p>
</div>
</div>
<p>Notice that I excluded something from my interpretation above. I didn‚Äôt interpret the <span class="math inline">\(\beta\)</span> for my control variable‚Ä¶ for <code>MedianAgeMarriage</code>. I did that on purpose.</p>
<p>Let me explain this with a visual.</p>
<div class="cell" data-fig-width="6">
<div class="cell-output-display">
<div id="fig-waffle-complicated" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p>
</p><pre class="mermaid mermaid-js" data-tooltip-selector="#mermaid-tooltip-4">%%{init: {'theme':'base', 'themeVariables':{'primaryColor':'#ffffff', 'primaryBorderColor': '#000000'}}}%%
graph LR
A[Waffle Houses] --&gt; |&amp;#946&lt;sub&gt;1&lt;/sub&gt;|B[Divorce]
D[Median Age of Marriage] --&gt; A
D --&gt; |&amp;#946&lt;sub&gt;2&lt;/sub&gt;|B
</pre>
<div id="mermaid-tooltip-4" class="mermaidTooltip">

</div>
<p></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;15.5: A more realistic assertion</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>I have quantified the relationships depicted by <span class="math inline">\(\beta_1\)</span> and <span class="math inline">\(\beta_2\)</span> in <a href="#fig-waffle-complicated">Figure&nbsp;<span>15.5</span></a>. I refined the calculated relationship for <span class="math inline">\(\beta_1\)</span> by controlling for my confounding variable <code>MedianAgeMarriage</code>. However, have I controlled for potential confounds for the <span class="math inline">\(\beta_2\)</span> path? No, I haven‚Äôt. So just as it was a problem for me to not account for potential confounding variables when I was looking at the relationship between Waffle Houses and Divorce, so too is it problematic to interpret the <span class="math inline">\(\beta\)</span> coefficient of my confounding variable as it is not a precise estimate of what the actual effect <span class="citation" data-cites="wysocki_et-al_2022_ampps">(<a href="references.html#ref-wysocki_et-al_2022_ampps" role="doc-biblioref">Wysocki, Lawson, and Rhemtulla 2022</a>)</span> of <code>MedianAgeMarriage</code> has on Divorce. One thing that would be potentially a confounding variable for that relationship would be region, right? We could imagine that <code>MedianAgeMarriage</code> is different in Southern states relative to other parts of the U.S. while Divorce rates may also be different in the U.S. South than other regions of the United States. So until we account for potential confounding variables for our confound, we shouldn‚Äôt interpret the estimated coefficient for <span class="math inline">\(\beta_2\)</span>; because it‚Äôll technically be imprecise <span class="citation" data-cites="wysocki_et-al_2022_ampps">(<a href="references.html#ref-wysocki_et-al_2022_ampps" role="doc-biblioref">Wysocki, Lawson, and Rhemtulla 2022</a>)</span>. I include fig-waffle-appropriate visualize the circumstance where actually interpreting the <span class="math inline">\(\beta\)</span> coefficient for my control variable in the table (<span class="math inline">\(\beta_2\)</span>) would be more appropriate is here:</p>
<div class="cell" data-fig-width="6">
<div class="cell-output-display">
<div id="fig-waffle-appropriate" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p>
</p><pre class="mermaid mermaid-js" data-tooltip-selector="#mermaid-tooltip-5">%%{init: {'theme':'base', 'themeVariables':{'primaryColor':'#ffffff', 'primaryBorderColor': '#000000'}}}%%
graph LR
A[Waffle Houses] --&gt; |&amp;#946&lt;sub&gt;1&lt;/sub&gt;|B[Divorce]
D[Median Age of Marriage] --&gt; A
D --&gt; |&amp;#946&lt;sub&gt;2&lt;/sub&gt;|B
E[Region] --&gt; D
E --&gt; B
</pre>
<div id="mermaid-tooltip-5" class="mermaidTooltip">

</div>
<p></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;15.6: When it is okay to interpret a confounder‚Äôs effect on the dependent variable</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>I may have lost you despite my best intentions above. My general go-to is that I <em>only</em> interpret the relationship that is part of my primary hypothesis (in this case Waffle houses explaining Divorce rates). I <em>do not</em> interpret the other coefficients unless I control for the confounders of my confounders. But as that sounds complicated (it can be, for sure), I often do not unless I am really motivated to do so. In such a case, I then have to make my regression a bit more complicated.</p>
<p>Now, some people still like to interpret the <span class="math inline">\(\beta_2\)</span> coefficient, despite it being technically incorrect, so if you are asked to do so, just do so. But be honest with the fact that you haven‚Äôt included confounders and so the estimated coefficient for the <span class="math inline">\(\beta_2\)</span> path is likely inaccurate. Again, this is another example of people doing things that make this really complicated topic easier for them, but is technically incorrect.</p>
<section id="some-final-notes" class="level2" data-number="15.1">
<h2 data-number="15.1" class="anchored" data-anchor-id="some-final-notes"><span class="header-section-number">15.1</span> Some final notes</h2>
<ul>
<li><p>The code for this and last exercise is not super complicated, however, the concepts underlying them definitely are! Spend time really trying to understand the concepts. If you don‚Äôt understand the concepts, no matter whether or not your code spits out some output, you‚Äôll still be doing things incorrectly.</p></li>
<li><p>Be comfortable with the following concepts and how they are related to one another:</p>
<ul>
<li><p>Dependent variable: the variable that <em>is explained</em> by some other variable. It is a variable that <em>depends</em> on some other variable. It is the variable that comes <em>before</em> the <code>=</code> in the mathy equation or the <code>~</code> in your R code.</p></li>
<li><p>Independent variable: the variable that <em>explains</em> or <em>predicts</em> some other variable. It is the variable that comes <em>after</em> the <code>=</code> in the mathy equation or the <code>~</code> in your R code.</p></li>
<li><p>Confounding variable: the variable that <em>explains</em> both your <em>dependent and independent variables</em>. You <code>control</code> for this variable to make sure that it is not obscuring the actual relationship between your dependent and independent variables.</p></li>
<li><p>Causal relationship: a particular type of relationship. It is a structured relationship. We think that one variable causes/explains/or predicts another variable.</p></li>
<li><p>Correlational relationship: a particular type of relationship. We are agnostic/naive about the structure of that relationship. We simply think that the relationship between the two variables exists.</p></li>
<li><p>Bivariate regression: a way to produce the equation for the line of best fit between two variables. It tries to minimize your residuals as much as possible.</p></li>
<li><p>Multivariate regression: like a bivariate regression, but now it accounts for the relationship between your independent and dependent variables as conditional on some other variable, your confounding variable.</p></li>
<li><p>Controlling for a variable: confounding variables may obscure the relationship between our independent and dependent variables (as the confounding variable explains both). To make sure that we get a better or more accurate picture of that relationship without the influence of the confounding variable, we include the confounding variable into our regression (which is called controlling for the confounding variable). In <code>R</code>, you simply use the <code>+</code> to include an additional variable to your regression equation.</p></li>
<li><p><span class="math inline">\(\beta\)</span> : The slope or the effect of your independent variable on your dependent variable. Not every variable perfectly explains the other. There are varying degrees to which one variable may explain the other. <span class="math inline">\(\beta\)</span> is simply a placeholder reflecting what that effect is. It is equivalent to the slope of your line of best fit produced in the scatterplot.</p></li>
<li><p><span class="math inline">\(\alpha\)</span>: The intercept term of your line of best fit. It reflects the <em>stuff</em> about your dependent variable that is not explained by the independent and control variables that you include in your regression equation. It just takes all of the stuff in your dependent variable that varies and is not explained by your independent and control variables, and just pools it altogether in your intercept term. This <em>stuff</em> can include things that are systematic, like alternative independent variables or additional control variables that you didn‚Äôt include, as well as things that are ‚Äústochastic‚Äù (fancy way of saying random) ‚Äì the stuff that just happens out in the world but doesn‚Äôt readily appear to have some cause.</p></li>
<li><p>Residual: If, for every value of my independent variable, I plug that value into my regression equation, it‚Äôd spit out a predicted value for my dependent variable (<span class="math inline">\(\hat{Y}\)</span>) ‚Äì how the line of best fit is added to your scatter plots. If I compare the predicted values produced by my regression equation and subtracted those from the actual data, that‚Äôd give me the difference between what my regression equation predicted and what actually happened. This difference is my residual. It is a type of uncertainty that we have about how <em>well</em> our regression model actually explains the phenomenon we are studying.</p></li>
<li><p>Standard error: We can create our residuals by hand. Go to when our independent variable equals 1, plug in 1 to our regression equation, multiply that by our slope, add our intercept, and get <span class="math inline">\(\hat{Y}\)</span>. Then go to when our independent variable equals 2, plug in 2 to our regression equation, multiply that by our slope, add our intercept, and get <span class="math inline">\(\hat{Y}\)</span>, and do this over and over again. If we jotted down the <span class="math inline">\(\hat{Y}\)</span> value each time we do that, we can produce our own data about how well our model predicts our actual data. One way to describe this would be through the central tendency. So we can take the mean of all of our <span class="math inline">\(\hat{Y}\)</span>‚Äôs right? One problem is, though, is that we know our measures of central tendency don‚Äôt always do a great job at explaining something. The other thing we should do to describe data is through the spread or dispersion of a variable. So we can take the standard deviation of our residuals. What that‚Äôll tell us is, not if our model is right on average (which is what the mean of our residuals would tell us), but whether when we are wrong ‚Äì how wrong are we? We know that sometimes we might be wrong. That‚Äôs fine. But we want to know that when we are wrong, it isn‚Äôt by a lot very often. The standard deviation of our residuals is our standard error. It tells us: when my model predicts the wrong value of Y, how far off am I usually? The smaller the standard error, the better your model performs.</p></li>
<li><p>P-Value: Knowing what our standard error is, we might want to know what that implies for whether we are wrong badly enough that we should just not believe the <span class="math inline">\(\beta\)</span> coefficient that our regression is giving us. The standard error itself doesn‚Äôt tell us that. It just tells us how off we are in making the right prediction we usually are when we are wrong, but it doesn‚Äôt tell us whether that is big enough to make us doubt whether we have actually detected either a positive or a negative relationship, but instead a <code>null</code> relationship. What a <code>null</code> relationship would imply is that the independent variable doesn‚Äôt have a positive or negative effect, but actually that it has <em>NO</em> effect. The p-value is the result of some fancy calculations that essentially tells us: the probability that I would have observed a <span class="math inline">\(\beta\)</span> coefficient that large <em>or</em> larger if there was truly indeed a <code>null</code> relationship. The smaller the p-value, the less likely I would have calculated the <span class="math inline">\(\beta\)</span> coefficient that I did. The smaller the p-value, the better. The p-value comes from a t-statistic which is your <span class="math inline">\(\frac{\beta}{Standard error}\)</span> . The t-value then comes from a conversion between your t-statistic and the p-value. You don‚Äôt need to know how that conversion is done. But the p-value DOES directly come from your <span class="math inline">\(\beta\)</span> and your standard error.</p></li>
</ul></li>
<li><p>For a working <code>.R</code> script file with this code, go to [this page](https://github.com/DamonCharlesRoberts/psci2075sp23.classes.damoncroberts.com/blob/main/examples/multivariate_regression.R)</p></li>
<li><p>These concepts are hard. That is normal and fine. Keep working at them. They are important to know. While the code for regressions is relatively easy, the concepts underlying them are quite complex (as you see here). If you don‚Äôt understand the concepts, then it doesn‚Äôt matter whether or not your code gives you some sort of output. You will mischaracterize and misunderstand what that output is telling you. Be sure to put in effort to understand these concepts. This will serve you well on the exams. The code is just a way to make us avoid having to do all of these calculations by hand - it is not a substitute for knowing what it is doing.</p></li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-modelsummary" class="csl-entry" role="doc-biblioentry">
Arel-Bundock, Vincent. 2022. <span>‚Äú<span class="nocase">modelsummary</span>: Data and Model Summaries in <span>R</span>.‚Äù</span> <em>Journal of Statistical Software</em> 103 (1): 1‚Äì23. <a href="https://doi.org/10.18637/jss.v103.i01">https://doi.org/10.18637/jss.v103.i01</a>.
</div>
<div id="ref-gill_1999_prq" class="csl-entry" role="doc-biblioentry">
Gill, Jeff. 1999. <span>‚ÄúTHe Insignificance of Null Hypothesis Significance Testing.‚Äù</span> <em>Political Research Quarterly</em> 52 (3): 647‚Äì74.
</div>
<div id="ref-stargazer" class="csl-entry" role="doc-biblioentry">
Hlavac, Marek. 2022. <em>Stargazer: Well-Formatted Regression and Summary Statistics Tables</em>. Bratislava, Slovakia: Social Policy Institute. <a href="https://CRAN.R-project.org/package=stargazer">https://CRAN.R-project.org/package=stargazer</a>.
</div>
<div id="ref-imbens_2021" class="csl-entry" role="doc-biblioentry">
Imbens, Guido W. 2021. <span>‚ÄúStatistical Significance, p-Values, and the Reporting of Uncertainty.‚Äù</span> <em>Journal of Economic Perspectives</em> 35 (3): 157‚Äì74.
</div>
<div id="ref-kim_2015" class="csl-entry" role="doc-biblioentry">
Kim, Jae H. 2015. <span>‚ÄúHow to Choose the Level of Significance: A Pedagogical Note.‚Äù</span> <em>Munich Personal RePEc Archive</em>.
</div>
<div id="ref-r_software" class="csl-entry" role="doc-biblioentry">
R Core Team. 2021. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-ggplot2" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley. 2016. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
<div id="ref-wysocki_et-al_2022_ampps" class="csl-entry" role="doc-biblioentry">
Wysocki, Anna C., Katherine M. Lawson, and Mijke Rhemtulla. 2022. <span>‚ÄúStatistical Control Requires Causal Justification.‚Äù</span> <em>Advances in Methods and Practices in Psychological Science</em> 5 (2): 1‚Äì19. <a href="https://doi.org/10.1177/25152459221095823">https://doi.org/10.1177/25152459221095823</a>.
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p><a href="../docs/12_bivariate_expectations.html">see the conditional bivariate relationships exercise</a><a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../docs/13_bivariate_regression.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Bivariate regression</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../docs/references.html" class="pagination-link">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center"><span class="faux-block"><i class="fa-brands fa-creative-commons" aria-label="creative-commons"></i> 2021-2023 Damon Charles Roberts</span> <span class="faux-block"><br>All content licensed under <i class="fa-brands fa-creative-commons" aria-label="creative-commons"></i> <i class="fa-brands fa-creative-commons-by" aria-label="creative-commons-by"></i> <i class="fa-brands fa-creative-commons-sa" aria-label="creative-commons-sa"></i> <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons CC BY-SA 4.0</a></span></div>
  </div>
</footer>



</body></html>